{% extends 'base.html' %}
{% load static %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'checkout.css' %}">
{% endblock %}
{% block content %}
<div class="checkout-container">
    <h1>Checkout</h1>

    <div class="checkout-section">
        <form method="POST" action="{% url 'checkout' %}">
            {% csrf_token %}
            
            <!-- Shipping Information -->
            <div class="checkout-form-section">
                <h2>Shipping Details</h2>
                <div class="form-group">
                    <label for="full_name">Full Name</label>
                    <input type="text" id="full_name" name="full_name" required>
                </div>
                <div class="form-group">
                    <label for="address">Address</label>
                    <input type="text" id="address" name="address" required>
                </div>
                <div class="form-group">
                    <label for="city">City</label>
                    <input type="text" id="city" name="city" required>
                </div>
                <div class="form-group">
                    <label for="state">State</label>
                    <input type="text" id="state" name="state" required>
                </div>
                <div class="form-group">
                    <label for="zip_code">ZIP Code</label>
                    <input type="text" id="zip_code" name="zip_code" required>
                </div>
                <div class="form-group">
                    <label for="email">Email</label>
                    <input type="email" id="email" name="email" required>
                </div>
            </div>
            
            <!-- Payment Information -->
            <div class="checkout-form-section">
                <h2>Payment Information</h2>
                <div class="form-group">
                    <label for="card_name">Name on Card</label>
                    <input type="text" id="card_name" name="card_name" required>
                </div>
                <div class="form-group">
                    <label for="card_number">Card Number</label>
                    <input type="text" id="card_number" name="card_number" required>
                </div>
                <div class="form-group">
                    <label for="expiry_date">Expiry Date</label>
                    <input type="text" id="expiry_date" name="expiry_date" placeholder="MM/YY" required>
                </div>
                <div class="form-group">
                    <label for="cvv">CVV</label>
                    <input type="text" id="cvv" name="cvv" required>
                </div>
            </div>

            <!-- Order Summary -->
            <div class="checkout-summary">
                <h2>Order Summary</h2>
                <ul>
                    {% for item in cart %}
                    <li>{{ item.product.name }} x{{ item.quantity }} - ${{ item.product.price * item.quantity }}</li>
                    {% endfor %}
                </ul>
                <p>Total: ${{ total }}</p>
            </div>
            
            <!-- Submit Button -->
            <div class="checkout-button">
                <button type="submit" class="btn">Complete Purchase</button>
            </div>
        </form>
    </div>
</div>
{% endblock %}
